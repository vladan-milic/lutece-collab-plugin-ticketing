<#include "admin_tabs.html" />
<@tabsWrapper>
  <@tabs tab="channel" hasTable=false/>
  <h3>#i18n{ticketing.modify_channel.pageTitle}</h3>
  <form class="form-horizontal" method="post" name="modify_channel" action="jsp/admin/plugins/ticketing/admin/ManageChannels.jsp">
    <@messages errors=errors />
    <input type="hidden" id="id" name="id" value="${channel.id}">
    <@fieldInputText i18nLabelKey="ticketing.modify_channel.labelLabel" inputName="label" mandatory=true value="${channel.label}" i18nHelpBlockKey="ticketing.modify_channel.labelLabel.help" />
    <@fieldInputText i18nLabelKey="ticketing.modify_channel.labelIconFont" inputName="icon_font" mandatory=false value="${channel.iconFont}" i18nHelpBlockKey="ticketing.modify_channel.labelIconFont.help" />
    <div class="form-group">
      <label class="col-xs-12 col-sm-3 control-label">#i18n{ticketing.modify_channel.labelIcon}&nbsp; :</label>
      <div class="col-xs-12 col-sm-9">
        <p class="form-control-static" id="icon">
          <span id="span_icon" class="${channel.iconFont}"></span>
        </p>
      </div>
    </div>
    <@actionButtons button1Name="action_modifyChannel" button2Name="view_manageChannels"/>
  </form>
</@tabsWrapper>
<script type="text/javascript">
var changeIcon = function (){
  $('span#span_icon').removeClass($('span#span_icon').attr('class')).addClass($("#icon_font").val());
}
$(document).ready(function(){
  $("#icon_font").change(changeIcon);
  $("#icon_font").click(changeIcon);
  $("#icon_font").keyup(changeIcon);
})
</script>