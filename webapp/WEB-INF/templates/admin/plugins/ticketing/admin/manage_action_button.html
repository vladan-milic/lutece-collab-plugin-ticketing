<@boxHeader title='#i18n{ticketing.manage_actionButton.pageTitle}' boxTools=true>
</@boxHeader>
<@row>
	<@columns>
		<@tabs color='top-danger'>
			<@listTabs>
				<li class="active">
					<a href="jsp/admin/plugins/ticketing/admin/ManageActionButton.jsp">
						#i18n{ticketing.manage_actionButton.onglet.parametrage}
					</a>
				</li>
				<li>
					<a href="jsp/admin/plugins/ticketing/admin/ManageGroupActionButton.jsp">#i18n{ticketing.manage_actionButton.onglet.gestion.groupe}</a>
				</li>
			</@listTabs>
			<@tabContent>
				<#list groupe_list as group>
					<#if group.param_bouton_list?has_content>
						<@row>
							<@columns>
								<@box color='danger'>
									<@boxHeader title='${group.groupe.libelleIdentifiant}' boxTools=boxTools>
									</@boxHeader>
									<@boxBody>
										<@table>
											<thead>
												<tr>
													<th>#i18n{ticketing.manage_actionButton.tableLabelNom}</th>
													<th>#i18n{ticketing.manage_actionButton.tableLabelGroupe}</th>
													<th>#i18n{ticketing.manage_actionButton.tableLabelOrdre}</th>
													<th>#i18n{ticketing.manage_actionButton.tableLabelIcone}</th>
													<th>#i18n{ticketing.manage_actionButton.tableLabelCouleur}</th>
												</tr>
											</thead>
											<tbody>
												<#list group.param_bouton_list?sort_by('ordre') as param_bouton>
													<tr>
														<td>
															<strong>${param_bouton.action.name}</strong>
															<br>
																<small>${param_bouton.action.stateBefore.name} <i class="fa fa-long-arrow-right" aria-hidden="true"></i> ${param_bouton.action.stateAfter.name} </small>
															</td>
															<td>
																<@tform method='post' class='form-inline' action='jsp/admin/plugins/ticketing/admin/ManageActionButton.jsp'>
																	<input type="hidden" name="param_id" value="${param_bouton.idparam}">
																	<input type="hidden" name="action_id" value="${param_bouton.action.id}">
																	<@formGroup rows=2>
																		<@inputGroup>
																		  <@select id='group_name-${group.groupe.idGroup}' name='group_id' title='' size='sm'>
																			<#list groupe_list as groupDisplay>
																				<option label="${groupDisplay.groupe.libelleIdentifiant}" value="${groupDisplay.groupe.idGroup?if_exists}" >${groupDisplay.groupe.libelleIdentifiant}</option>
																			</#list>
																		  </@select>
																	  <@inputGroupItem>
																		<@button type='submit' name='action_changeGroup' title='#i18n{portal.features.dispatch_features_row.buttonSetGroup}' showTitle=false buttonIcon='check' />
																	  </@inputGroupItem>
																	</@inputGroup>
																  </@formGroup>
																</@tform>
															</td>
														</tr>
													</#list>
												</tbody>
											</@table>
										</@boxBody>
									</@box>
								</@columns>
							</@row>
						</#if>
					</#list>
				</@tabContent>
			</@tabs>
		</@columns>
	</@row>