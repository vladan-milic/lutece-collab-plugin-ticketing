<div id="ticketing-admin-wrapper">
	<div class="box box-primary">
		<div class="box-header">
			<h3 class="box-title">#i18n{ticketing.manage_ticketinputs.pageTitle}</h3>
            <form method="get" class="form-inline pull-right" action="jsp/admin/plugins/ticketing/admin/ManageTicketInputEntry.jsp">
                <input type="hidden" value="getCreateEntry" name="view">
                <label for="id_type">#i18n{ticketing.modify_ticketform.labelInsertEntry} :&#160;&#160;</label>
                <div class="input-group">
                    <@comboWithParams name="id_type" items=entry_type_list default_value="-1" additionalParameters="class='form-control input-sm'" />
                    <span class="input-group-btn">
                <button type="submit" class="btn btn-primary btn-sm" title="#i18n{ticketing.modify_ticketform.buttonInsertEntry}">
                    <i class="fa fa-plus"></i>
                </button>
                </span>
                </div>
            </form>
		</div>
        <form method="post" action="jsp/admin/plugins/ticketing/admin/ManageTicketInputEntry.jsp">
        <#if entry_group_list?has_content>
            <div>
                <!-- List all entry of type group  -->
                <@comboWithParams name="id_entry_group" items=entry_group_list  default_value="" additionalParameters=" class=\"form-control\" " />
                <button type="submit" class="btn btn-primary btn-sm" title="#i18n{ticketing.modify_ticketinput.move}" name="add_to_group" value="#i18n{ticketing.modify_ticketinput.moveAll}">
                    <i class="fa fa-resize-vertical"></i>
                </button>
            </div>
        </#if>
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>#i18n{ticketing.createEntry.manageField.rowTitle} #i18n{ticketing.modifyField.manageConditionalQuestion.rowType}</th>
                    <th><i class="fa fa-question-circle" title="#i18n{ticketing.createEntry.manageField.rowConditionalQuestion}"></i></th>
                    <th>#i18n{ticketing.createEntry.manageField.rowActions}</th>
                </tr>
            </thead>
            <tbody>
                <#list entry_list as entry>
                    <#if entry.entryType.group>
                        <#assign lastGroup=entry>
                    </#if>
                    <tr>
                        <td>
                            <#if entry.entryType.group>
                                ${entry.title}
                            <#elseif entry.parent?exists>
                                <#if entry.entryType.comment>
                                    <blockquote>${entry.comment}</blockquote>
                                <#else>
                                    <blockquote>${entry.title}</blockquote>
                                </#if>
                            <#elseif entry.entryType.myLuteceUser>
                                ${entry.title}
                            <#else>
                                <#if entry.entryType.comment>
                                    ${entry.comment}
                                <#else>
                                    ${entry.title}
                            </#if>
                            </#if>
                            <#if !entry.entryType.group>
                                <p><span class="badge">${entry.entryType.title}</span></p>
                            </#if>
                        </td>
                        <td>
                                <#if entry.numberConditionalQuestion!=0>
                                    ${entry.numberConditionalQuestion}
                                </#if>
                        </td>
                         <td>
                             <#if !entry.entryType.myLuteceUser>
                                 <a href="jsp/admin/plugins/ticketing/admin/ManageTicketInputEntry.jsp?view=getModifyEntry&id_entry=${entry.idEntry}" class="btn btn-primary">
                                     <i class="fa fa-pencil"></i>
                                 </a>
                             </#if>
                             <#if entry.parent?exists>
                                 <a href="jsp/admin/plugins/ticketing/admin/ManageTicketInputEntry.jsp?action=doMoveOutEntry&id_entry=${entry.idEntry}#list" title="#i18n{ticketing.modifyField.manageConditionalQuestion.titleGoOut}" class="btn btn-primary">
                                     <i class="fa fa-chevron-right"></i>
                                 </a>
                             </#if>
                             <#if !entry.entryType.group && !entry.entryType.myLuteceUser>
                                 <a href="jsp/admin/plugins/ticketing/admin/ManageTicketInputEntry.jsp?action=doCopyEntry&id_entry=${entry.idEntry}#list" title="#i18n{ticketing.createEntry.manageField.titleCopy}" class="btn btn-primary">
                                     <i class="fa fa-copy"></i>
                                 </a>
                             </#if>
                         </td>
                        </tr>
                    </#list>
                </tbody>
            </table>
        </form>
	</div>
</div>
